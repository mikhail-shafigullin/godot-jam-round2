[gd_scene load_steps=12 format=3 uid="uid://mvsi3yh8xcfv"]

[ext_resource type="PackedScene" uid="uid://dqnn0xey3mbow" path="res://scenes/SpaceShip.tscn" id="1_81tjy"]
[ext_resource type="PackedScene" uid="uid://d0d7n0xgmrro5" path="res://entites/player/dron_player.tscn" id="3_2yh1p"]
[ext_resource type="Texture2D" uid="uid://qvdw6c4rkrol" path="res://models/31506352382uefgy4dqaqnhjdxg1ux1kcojh3hbffkkggbyzjirljrevb7s6ic3gnis5m6ddbszy5lh5l011aumlgnycogp6sun8otukbpvtzv9-1199252123.png" id="3_imk67"]
[ext_resource type="Texture2D" uid="uid://dpn3n8kef0wfv" path="res://models/starmap_2020_2k.exr" id="3_uu5it"]
[ext_resource type="PackedScene" uid="uid://ctgsgjglpau0g" path="res://entites/mecha/repair_trigger.tscn" id="21_5powe"]
[ext_resource type="Script" path="res://src/gameplay/GameController.gd" id="21_sefmn"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_q2sxf"]
panorama = ExtResource("3_uu5it")
filter = false

[sub_resource type="Sky" id="Sky_xh54j"]
sky_material = SubResource("PanoramaSkyMaterial_q2sxf")
process_mode = 3

[sub_resource type="Environment" id="Environment_u4bxu"]
background_mode = 2
background_energy_multiplier = 0.05
sky = SubResource("Sky_xh54j")
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 0.09
reflected_light_source = 1
sdfgi_read_sky_light = false
glow_enabled = true
fog_mode = 1
fog_light_color = Color(0, 0, 0, 1)
fog_density = 1.0
fog_depth_curve = 7.99998
fog_depth_end = 126.6
adjustment_brightness = 1.8

[sub_resource type="PlaneMesh" id="PlaneMesh_hfmk1"]
size = Vector2(20, 20)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_y2wiu"]
transparency = 2
alpha_scissor_threshold = 0.882
alpha_antialiasing_mode = 0
shading_mode = 0
albedo_color = Color(1, 1, 0.933333, 1)
albedo_texture = ExtResource("3_imk67")
disable_receive_shadows = true

[node name="World" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_u4bxu")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(-0.350579, -0.520183, 0.778784, 0.915852, -0.0166344, 0.401171, -0.195728, 0.853893, 0.482243, 57.2654, 42.3088, 81.0222)
light_energy = 2.0
light_bake_mode = 1
shadow_enabled = true
directional_shadow_max_distance = 480.0
sky_mode = 1

[node name="MeshInstance3D" type="MeshInstance3D" parent="WorldEnvironment/DirectionalLight3D"]
transform = Transform3D(9.54594, 1.19209e-07, 9.54594, -9.54594, -9.53674e-07, 9.54594, 9.53674e-07, -13.5, -1.66893e-06, -0.00035518, 0.000193345, 3292.58)
mesh = SubResource("PlaneMesh_hfmk1")
surface_material_override/0 = SubResource("StandardMaterial3D_y2wiu")

[node name="Ship" parent="." instance=ExtResource("1_81tjy")]

[node name="zBack" type="Marker3D" parent="Ship"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -235)

[node name="zForward" type="Marker3D" parent="Ship"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 269)

[node name="xLeft" type="Marker3D" parent="Ship"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -156, 0, 0)

[node name="xRight" type="Marker3D" parent="Ship"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 156, 0, 0)

[node name="yTop" type="Marker3D" parent="Ship"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 71.99, 0)

[node name="yBottom" type="Marker3D" parent="Ship"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -38.5819, 0)

[node name="DronPlayer" parent="." instance=ExtResource("3_2yh1p")]
unique_name_in_owner = true
transform = Transform3D(0.995171, -0.0247733, -0.0949771, -0.0248858, -0.99969, 0, -0.0949476, 0.00236358, -0.99548, 7.22056, -24.844, -72.8295)
rotation_edit_mode = 1

[node name="GameController" type="Node" parent="." node_paths=PackedStringArray("_dronPlayer", "RepairTriggersFirstMission", "RepairTriggersSecondMission", "RepairTriggersThirdMission", "RepairTriggersFourthMission", "RepairTriggersFifthMission", "RepairTriggersSixthMission", "RepairTriggersSeventhMission", "RepairTriggersEighthMission")]
script = ExtResource("21_sefmn")
_dronPlayer = NodePath("../DronPlayer")
RepairTriggersFirstMission = [NodePath("../FirstMissionRepairTriggers/RepairTrigger"), NodePath("../FirstMissionRepairTriggers/RepairTrigger2")]
RepairTriggersSecondMission = [NodePath("../SecondMissionRepairTriggers/RepairTrigger2"), NodePath("../SecondMissionRepairTriggers/RepairTrigger3")]
RepairTriggersThirdMission = [NodePath("../ThirdMissionRepairTriggers/RepairTrigger2"), NodePath("../ThirdMissionRepairTriggers/RepairTrigger3"), NodePath("../ThirdMissionRepairTriggers/RepairTrigger4")]
RepairTriggersFourthMission = [NodePath("../FourthMissionRepairTriggers/RepairTrigger2"), NodePath("../FourthMissionRepairTriggers/RepairTrigger3"), NodePath("../FourthMissionRepairTriggers/RepairTrigger4")]
RepairTriggersFifthMission = [NodePath("../FifthMissionRepairTriggers/RepairTrigger2")]
RepairTriggersSixthMission = [NodePath("../SixthMissionRepairTriggers/RepairTrigger2")]
RepairTriggersSeventhMission = [NodePath("../SeventhMissionRepairTriggers/RepairTrigger2")]
RepairTriggersEighthMission = [NodePath("../EighthMissionRepairTriggers/RepairTrigger2")]

[node name="FirstMissionRepairTriggers" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -107.732, -20.1508, -139.338)

[node name="RepairTrigger" parent="FirstMissionRepairTriggers" instance=ExtResource("21_5powe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.52193, 8.50347, 0.155243)

[node name="RepairTrigger2" parent="FirstMissionRepairTriggers" instance=ExtResource("21_5powe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.9778, 5.78098, 4.07291)

[node name="SecondMissionRepairTriggers" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.05905, -16.0486, -58.4221)

[node name="RepairTrigger2" parent="SecondMissionRepairTriggers" instance=ExtResource("21_5powe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -67.7763, 17.2874, 13.1405)

[node name="RepairTrigger3" parent="SecondMissionRepairTriggers" instance=ExtResource("21_5powe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -85.0376, 19.0079, 11.7081)

[node name="ThirdMissionRepairTriggers" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -83.4468, 27.5752, -184.98)

[node name="RepairTrigger2" parent="ThirdMissionRepairTriggers" instance=ExtResource("21_5powe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27.4709, -4.53392, 6.19337)

[node name="RepairTrigger3" parent="ThirdMissionRepairTriggers" instance=ExtResource("21_5powe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.9036, 12.5525, 9.71114)

[node name="RepairTrigger4" parent="ThirdMissionRepairTriggers" instance=ExtResource("21_5powe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.0548, -0.431942, 28.1942)

[node name="FourthMissionRepairTriggers" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.21456, -11.1233, 235.74)

[node name="RepairTrigger2" parent="FourthMissionRepairTriggers" instance=ExtResource("21_5powe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.9949, 6.57411, 16.4209)

[node name="RepairTrigger3" parent="FourthMissionRepairTriggers" instance=ExtResource("21_5powe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.2001, 6.40181, 22.0393)

[node name="RepairTrigger4" parent="FourthMissionRepairTriggers" instance=ExtResource("21_5powe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.4222, 6.48924, 19.0749)

[node name="FifthMissionRepairTriggers" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.69152, 40.3897, 125.318)

[node name="RepairTrigger2" parent="FifthMissionRepairTriggers" instance=ExtResource("21_5powe")]

[node name="SixthMissionRepairTriggers" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.2403, 46.1751, 75.9695)

[node name="RepairTrigger2" parent="SixthMissionRepairTriggers" instance=ExtResource("21_5powe")]

[node name="SeventhMissionRepairTriggers" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.901, 72.2747, -90.8301)

[node name="RepairTrigger2" parent="SeventhMissionRepairTriggers" instance=ExtResource("21_5powe")]

[node name="EighthMissionRepairTriggers" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.94973, -24.6689, -78.7047)

[node name="RepairTrigger2" parent="EighthMissionRepairTriggers" instance=ExtResource("21_5powe")]
